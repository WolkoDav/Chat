# Tornado TCP чат

**Зависимости:**

1. Python 3.4+
2. Tornado 

**Установка зависимостей:** `pip install -r requirements.txt`

**Запуск сервере:** `python server.py`
**Запуск клиента:** `python client.py`

**Описание протокола:**

1. Первые два байта - длинна входящего сообщения
2. Команда - строка
3. `\n` - разделитель
4. Аргументы команды - base64 от строки, закодированной при помощи pickle

**Список допустимых команд:**

***Серверные команды:***

1. Вход пользователя в систему
> LOGIN(username:str)

2. Войти в комнату и получать уведомления из указаной комнаты
> JOIN(username:str, room:str) 

3. Перестать получать уведомления из указаной комнаты, если пользователь находится в данной комнату, то он её покинет
> LEFT(username:str, room:str) 

4. Отправить сообщение
> MESS(username:str, room:str, message: str)

***Клиентские команды***
 
Данный список не ограничевается никакими рамками. Что бы после запроса вызвать нужную команду на клиенте, необходимо в функцию передать аргумент: `response_command`, после обработки запроса, будет вызвана команда `response_command` на клиенте.

Для ошибок есть команда по умолчанию:
> RESP(code:int, message:str)

Список возвращаемых кодов:

0 - запрос обработан успешно

2 - недопустимое значене

3 - ошибка авторизации

4 - команда не существует

5 - произошла неизвестная ошибка на сервере
